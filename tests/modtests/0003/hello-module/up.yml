
tasks:
  -
    name: Main
    desc: main entry
    task:
      -
        func: shell
        desc: main job
        do:
          - echo "hello "

  -
    name: Say_world
    task:
      -
        func: cmd
        vars:
          a: module-aaa
          b: module-bbb
        do:
          - name: print
            cmd: |
              ... module world
              a: {{.a}}
              b: {{.b}}

          -
            name: assert
            cmd:
              - '{{eq .a "caller-aaa"}}'
              - '{{eq .b "module-bbb"}}'

          - name: return
            desc: |
              it should return and merge tom to parent's vars scope
              it should report warning as jason does not exist
            cmd:
              - b

