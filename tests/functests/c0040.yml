goal:
  - showcase the loop using template

tasks:

  -
    name: task
    desc: test the exit scenarios due to different types of validation
    task:
      -
        func: shell
        name: getcases
        do:
          - cd ./tests/functests; ls f*.yml
        reg: cases

      -
        func: shell
        desc: a real showcase of how to loop using template
        do:
          - |
            {{ range $idx, $file := .register_testf_cases | splitLines -}}
            {{$casename :=  $file | replace ".yml" ""}}
            echo "==========failure case test {{$idx |add1}}==============="
            go run app/up/*.go task task -d ./tests/functests -t {{$casename}} -i dev -v vvvv
            {{end}}

