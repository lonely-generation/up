goal:
  - to introduce a implicit task vars scope for easier sharing vars in same task

vars:
  tom: this is tom

tasks:
  -
    name: task
    task:
      -
        func: cmd
        vars:
          jerry: this is jerry
        do:
          - name: print
            cmd: '{{.tom}}'
          - name: print
            cmd: '{{.jerry}}'

      -
        func: cmd
        do:
          - name: print
            desc: jerry is in local scope so there is no value
            cmd: '{{.jerry}}'

      -
        func: cmd
        dvars:
          - name: jerry
            value: this is jerry in task scope
            flags:
              - taskscope
        do:
          - name: print
            desc: this should print out the dvar value of jerry
            cmd: '{{.jerry}}'

      -
        func: cmd
        do:
          - name: print
            desc: this should print out the dvar value of jerry as it is declared jerry is in taskscope
            cmd: '{{.jerry}}'

      -
        func: cmd
        vars:
          jerry: jerry is overrided in local scope
        do:
          - name: print
            desc: var jerry in task scope is overrided by local var jerry
            cmd: '{{.jerry}}'

      -
        func: cmd
        do:
          - name: print
            desc: this should print out the jerry defined in task var scope
            cmd: '{{.jerry}}'
